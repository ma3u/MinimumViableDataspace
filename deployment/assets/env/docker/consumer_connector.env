# Consumer Connector - Docker Configuration
# control plane specific config
EDC_IAM_ISSUER_ID=did:web:consumer-identityhub%3A7083
WEB_HTTP_PORT=8080
WEB_HTTP_PATH=/api
WEB_HTTP_MANAGEMENT_PORT=8081
WEB_HTTP_MANAGEMENT_PATH=/api/management/
WEB_HTTP_MANAGEMENT_AUTH_TYPE=tokenbased
WEB_HTTP_MANAGEMENT_AUTH_KEY=password
WEB_HTTP_PROTOCOL_PORT=8082
WEB_HTTP_PROTOCOL_PATH=/api/dsp
WEB_HTTP_CONTROL_PORT=8083
WEB_HTTP_CONTROL_PATH=/api/control
WEB_HTTP_CATALOG_PORT=8084
WEB_HTTP_CATALOG_PATH=/api/catalog
WEB_HTTP_CATALOG_AUTH_TYPE=tokenbased
WEB_HTTP_CATALOG_AUTH_KEY=password
WEB_HTTP_VERSION_PORT=8085
WEB_HTTP_VERSION_PATH=/api/version
EDC_IAM_DID_WEB_USE_HTTPS=false
EDC_IAM_STS_PRIVATEKEY_ALIAS=did:web:consumer-identityhub%3A7083-alias
EDC_IAM_STS_PUBLICKEY_ID=did:web:consumer-identityhub%3A7083#key-1
EDC_DSP_CALLBACK_ADDRESS=http://consumer-controlplane:8082/api/dsp
EDC_PARTICIPANT_ID=did:web:consumer-identityhub%3A7083
EDC_CATALOG_CACHE_EXECUTION_DELAY_SECONDS=5
EDC_CATALOG_CACHE_EXECUTION_PERIOD_SECONDS=10
EDC_MVD_PARTICIPANTS_LIST_FILE=/app/participants.json
EDC_MANAGEMENT_CONTEXT_ENABLED=true
EDC_IAM_STS_OAUTH_CLIENT_SECRET_ALIAS=did:web:consumer-identityhub:7083-sts-client-secret
EDC_IAM_STS_OAUTH_CLIENT_ID=did:web:consumer-identityhub:7083
EDC_IAM_STS_OAUTH_TOKEN_URL=http://consumer-identityhub:7086/api/sts/token

# dataplane specific config
EDC_RUNTIME_ID=consumer-embedded-runtime
EDC_TRANSFER_PROXY_TOKEN_VERIFIER_PUBLICKEY_ALIAS=did:web:consumer-identityhub%3A7083#key-1
EDC_TRANSFER_PROXY_TOKEN_SIGNER_PRIVATEKEY_ALIAS=did:web:consumer-identityhub%3A7083-alias
EDC_DPF_SELECTOR_URL=http://consumer-controlplane:8083/api/control/v1/dataplanes
WEB_HTTP_PUBLIC_PORT=11001
WEB_HTTP_PUBLIC_PATH=/api/public

# Hashicorp Vault Configuration
EDC_VAULT_HASHICORP_URL=http://health-vault:8200
EDC_VAULT_HASHICORP_TOKEN=root
EDC_VAULT_HASHICORP_API_SECRET_PATH=/v1/secret

# SQL Configuration
EDC_DATASOURCE_DEFAULT_URL=jdbc:postgresql://consumer-postgres:5432/edc_consumer
EDC_DATASOURCE_DEFAULT_USER=edc
EDC_DATASOURCE_DEFAULT_PASSWORD=edc
EDC_SQL_SCHEMA_AUTOCREATE=true

# OpenTelemetry Tracing Configuration
# Enables distributed tracing across EDC components
OTEL_EXPORTER_OTLP_ENDPOINT=http://tools-jaeger:4318
OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf
OTEL_SERVICE_NAME=consumer-controlplane
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=prometheus
OTEL_LOGS_EXPORTER=none
OTEL_RESOURCE_ATTRIBUTES=service.namespace=health-dataspace,service.version=1.0.0,deployment.environment=docker

# Micrometer Metrics Configuration
# Enables JVM, OkHttp, Jetty, Jersey metrics collection
EDC_METRICS_ENABLED=true
EDC_METRICS_SYSTEM_ENABLED=true
EDC_METRICS_OKHTTP_ENABLED=true
EDC_METRICS_EXECUTOR_ENABLED=true
EDC_METRICS_JETTY_ENABLED=true
EDC_METRICS_JERSEY_ENABLED=true

# EDC Event Callbacks - Dataspace Insider View
# Forwards EDC events to backend-edc for real-time visualization
# @see https://github.com/eclipse-edc/Connector/tree/main/extensions/control-plane/callback/callback-static-endpoint
EDC_CALLBACK_INSIDER_URI=http://backend-edc:3002/api/events/callback
EDC_CALLBACK_INSIDER_EVENTS=contract.negotiation,transfer.process
EDC_CALLBACK_INSIDER_TRANSACTIONAL=false
