# Provider Connector - Docker Configuration
# control plane specific config
EDC_IAM_ISSUER_ID=did:web:provider-identityhub%3A7093
WEB_HTTP_PORT=8190
WEB_HTTP_PATH=/api
WEB_HTTP_MANAGEMENT_PORT=8191
WEB_HTTP_MANAGEMENT_PATH=/api/management/
WEB_HTTP_MANAGEMENT_AUTH_TYPE=tokenbased
WEB_HTTP_MANAGEMENT_AUTH_KEY=password
WEB_HTTP_PROTOCOL_PORT=8192
WEB_HTTP_PROTOCOL_PATH=/api/dsp
WEB_HTTP_CONTROL_PORT=8193
WEB_HTTP_CONTROL_PATH=/api/control
WEB_HTTP_CATALOG_PORT=8194
WEB_HTTP_CATALOG_PATH=/api/catalog
WEB_HTTP_CATALOG_AUTH_TYPE=tokenbased
WEB_HTTP_CATALOG_AUTH_KEY=password
WEB_HTTP_VERSION_PORT=8195
WEB_HTTP_VERSION_PATH=/api/version
EDC_IAM_DID_WEB_USE_HTTPS=false
EDC_IAM_STS_PRIVATEKEY_ALIAS=did:web:provider-identityhub%3A7093-alias
EDC_IAM_STS_PUBLICKEY_ID=did:web:provider-identityhub%3A7093#key-1
EDC_DSP_CALLBACK_ADDRESS=http://provider-controlplane:8192/api/dsp
EDC_PARTICIPANT_ID=did:web:provider-identityhub%3A7093
EDC_CATALOG_CACHE_EXECUTION_DELAY_SECONDS=5
EDC_CATALOG_CACHE_EXECUTION_PERIOD_SECONDS=10
EDC_MVD_PARTICIPANTS_LIST_FILE=/app/participants.json
EDC_MANAGEMENT_CONTEXT_ENABLED=true
EDC_IAM_STS_OAUTH_CLIENT_SECRET_ALIAS=did:web:provider-identityhub%3A7093-sts-client-secret
EDC_IAM_STS_OAUTH_CLIENT_ID=ZGlkOndlYjpwcm92aWRlci1pZGVudGl0eWh1YiUzQTcwOTM
EDC_IAM_STS_OAUTH_TOKEN_URL=http://provider-identityhub:7096/api/sts/token

# dataplane specific config
EDC_RUNTIME_ID=provider-embedded-runtime
EDC_TRANSFER_PROXY_TOKEN_VERIFIER_PUBLICKEY_ALIAS=did:web:provider-identityhub%3A7093#key-1
EDC_TRANSFER_PROXY_TOKEN_SIGNER_PRIVATEKEY_ALIAS=did:web:provider-identityhub%3A7093-alias
EDC_DPF_SELECTOR_URL=http://provider-controlplane:8193/api/control/v1/dataplanes
WEB_HTTP_PUBLIC_PORT=12001
WEB_HTTP_PUBLIC_PATH=/api/public

# Hashicorp Vault Configuration
EDC_VAULT_HASHICORP_URL=http://health-vault:8200
EDC_VAULT_HASHICORP_TOKEN=root

# SQL Configuration
EDC_DATASOURCE_DEFAULT_URL=jdbc:postgresql://provider-postgres:5432/edc_provider
EDC_DATASOURCE_DEFAULT_USER=edc
EDC_DATASOURCE_DEFAULT_PASSWORD=edc
EDC_SQL_SCHEMA_AUTOCREATE=true

# OpenTelemetry Tracing Configuration
# Enables distributed tracing across EDC components
OTEL_EXPORTER_OTLP_ENDPOINT=http://tools-jaeger:4317
OTEL_SERVICE_NAME=provider-controlplane
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=none
OTEL_LOGS_EXPORTER=none
OTEL_RESOURCE_ATTRIBUTES=service.namespace=health-dataspace,service.version=1.0.0,deployment.environment=docker

# EDC Event Callbacks - Dataspace Insider View
# Forwards EDC events to backend-edc for real-time visualization
# @see https://github.com/eclipse-edc/Connector/tree/main/extensions/control-plane/callback/callback-static-endpoint
EDC_CALLBACK_INSIDER_URI=http://backend-edc:3002/api/events/callback
EDC_CALLBACK_INSIDER_EVENTS=contract.negotiation,transfer.process
EDC_CALLBACK_INSIDER_TRANSACTIONAL=false
